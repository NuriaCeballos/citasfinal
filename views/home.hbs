<!-- CUERPO DEL EJERCICIO -->
<main>
  <form class="row g-3 needs-validation" method="post" action="/citas/procesar">
    <div class="col-md-4 ml-4">
      <label for="validationCustom01" class="form-label">Nombre</label>
      <input type="text" class="form-control" id="validationCustom01" name="firstname" required>
      <div class="valid-feedback">
        Looks good!
      </div>
    </div>
    <div class="col-md-4 ml-4">
      <label for="validationCustom02" class="form-label">Apellido</label>
      <input type="text" class="form-control" id="validationCustom02" name="lastname" required>
      <div class="valid-feedback">
        Looks good!
      </div>
    </div>
    <div class="col-md-4 ml-4">
      <label for="validationCustomUsername" class="form-label">Email</label>
      <div class="input-group has-validation">
        <span class="input-group-text" id="inputGroupPrepend">@</span>
        <input type="email" class="form-control" id="validationCustomUsername" aria-describedby="inputGroupPrepend"
          name="email" required>
        <div class="invalid-feedback">
          Please choose a username.
        </div>
      </div>
    </div>
    <div class="col-md-6 mb-4 ml-4">
      <label for="validationCustom03" class="form-label">Tel√©fono</label>
      <input type="number" class="form-control" id="validationCustom03" name="phone" required>
    </div>
    <div class="col-md-6 ml-4">
      <label for="start">Seleccione su fecha:<br></label>
      <input type="date" id="start" name="date" value="" min="2020-12-26" max="2022-12-26" required>
    </div>
    <div class="form-group col-md-6 ml-4">
    <label for="exampleFormControlSelect1">Selecciona la hora</label>
    <select class="form-control" name="hour">
      <option>9:00-10:00</option>
      <option>10:00-11:00</option>
      <option>12:00-13:00</option>
      <option>13:00-14:00</option>
      <option>17:00-18:00</option>
      <option>18:00-19:00</option>
      <option>19:00-20:00</option>
    </select>
    <div class="col-12">
      <button class="btn btn-warning mt-4 ml-4" type="submit">Submit form</button>
    </div>


  </form>

  <!--calendario-->
    
  <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.5.0/main.min.css' rel='stylesheet' />
  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.5.0/main.min.js'></script>
  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.5.0/locales-all.js'></script>
    <style>

    html, body {
      margin: 0;
      padding: 0;
      font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
      font-size: 14px;
      
    }

    #calendar {
      max-width: 500px;
      margin: 40px auto;
      background-color: rgb(243, 151, 214);
      color: rgb(7, 0, 4);
      
    }

  </style>
<script>

  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      initialDate: '2021-01-07',
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      },
      locale: 'es',
      events: [
      {{#each citas}}
        {
          title: '{{hour}}',
          start: '{{date}}'
        }, 
        {{/each}}    
      ]
    });

    calendar.render();
  });
          
</script>
  </div>

  <div id='calendar'></div>
</main>
